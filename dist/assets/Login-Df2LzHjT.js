import{j as e}from"./ui-BLUv2tW2.js";import{a as t,i as g}from"./vendor-f9TeDfvc.js";import{b as h,s as j,u as m}from"./index-DJcS8j5y.js";import{B as y}from"./button-BMVttRVi.js";import{I as u}from"./input-BKXVYl-h.js";import{C as N,b as v,c as w,a as L}from"./card-CnFkVFlP.js";import{L as C}from"./lock-BocZ1lzv.js";import"./utils-73O3M1Kq.js";const H=()=>{const[l,x]=t.useState(""),[o,b]=t.useState(""),[i,c]=t.useState(!1),r=g(),{session:d,loading:p}=h();t.useEffect(()=>{d&&r("/admin/dashboard",{replace:!0})},[d,r]);const f=async s=>{s.preventDefault(),c(!0),console.log("Attempting login..."),console.log("Supabase URL:","https://dyemfenyszdjtncetadx.supabase.co"),console.log("Has Supabase Key:",!0);try{const{data:a,error:n}=await j.auth.signInWithPassword({email:l,password:o});if(console.log("Login response:",{data:a,error:n}),n)throw n;m.success("Welcome back!"),r("/admin/dashboard")}catch(a){console.error("Login error:",a),m.error(a.message||"Failed to login")}finally{c(!1)}};return p?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-blue"})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 px-4",children:e.jsxs(N,{className:"w-full max-w-md",children:[e.jsxs(v,{className:"text-center space-y-2",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-brand-blue/10 rounded-full flex items-center justify-center mb-4",children:e.jsx(C,{className:"w-6 h-6 text-brand-blue"})}),e.jsx(w,{className:"text-2xl font-bold text-slate-900",children:"Admin Login"})]}),e.jsx(L,{children:e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Email"}),e.jsx(u,{type:"email",placeholder:"admin@example.com",value:l,onChange:s=>x(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Password"}),e.jsx(u,{type:"password",value:o,onChange:s=>b(s.target.value),required:!0})]}),e.jsx(y,{type:"submit",className:"w-full bg-brand-blue hover:bg-brand-blue/90",disabled:i,children:i?"Signing in...":"Sign In"})]})})]})})};export{H as default};
